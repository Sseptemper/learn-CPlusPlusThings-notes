# 宏那些事

### 宏中的特殊符号

分为： #， ##， \

### 字符串化操作符(#)

1.#是“字符串化”的意思，出现在宏定义中的#是把跟在后面的参数转换成一个字符串。

注意：其只能用于有传入参数的宏定义中，且必须置于宏定义体中的参数名前。

2.在传入参数名存在空格时，编译器将会自动连接各个子字符串，用每个子字符串之间以一个空格连接，忽略剩余空格。

### 符号连接符(##)

1.“##”是一种分隔连接方式，它的作用是先分隔，然后进行强制连接。将宏定义的多个形参转换成一个实际参数名。

注意事项：

（1）当用##连接形参时，##前后的空格可有可无。

（2）连接后的实际参数名，必须为实际存在的参数名或是编译器已知的宏定义。

（3）如果##后的参数本身也是一个宏的话，##会阻止这个宏的展开。

### 续行操作符('\')

当定义的宏不能用一行表达完整时，可以用'\'表示下一行继续此宏的定义

### do{}while(0)

定义单一的函数块来完成复杂的操作

如果你有一个复杂的函数，变量很多，而且你不想要增加新的函数，可以使用do{...}while(0)，将你的代码写在里面，里面可以定义变量而不用考虑变量名会同函数之前或者之后的重复。 这种情况应该是指一个变量多处使用（但每处的意义还不同），我们可以在每个do-while中缩小作用域，比如：

```c++
int fc()
{
    int k1 = 10;
    std::cout<<k1<<endl;
    do{
        int k1 = 100;
        std::cout<<k1<<endl;
    }while(0);
    std::cout<<k1<<endl;
}
```
